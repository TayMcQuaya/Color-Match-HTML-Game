<!DOCTYPE html>
<html data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Color Match</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="game-container">
    <!-- Header Buttons -->
    <div class="header-buttons">
      <button class="utility-btn" onclick="toggleHelp()">‚ùì How to Play</button>
      <button class="utility-btn" onclick="toggleAchievements()">üèÜ Achievements</button>
    </div>

    <!-- Difficulty Section -->
    <div class="difficulty-section">
      <h3>Select Difficulty</h3>
      <div class="difficulty-selector">
        <button class="difficulty-btn" onclick="setDifficulty('easy')" style="background: #4CAF50">Beginner</button>
        <button class="difficulty-btn active" onclick="setDifficulty('normal')" style="background: #2196F3">Normal</button>
        <button class="difficulty-btn" onclick="setDifficulty('hard')" style="background: #f44336">Expert</button>
      </div>
    </div>

    <div class="multiplier" id="multiplier">2x Points!</div>
    <div class="color-text" id="colorText">Color</div>
    <div class="buttons" id="buttons"></div>

    <!-- Game Stats -->
    <div class="game-stats">
      <div class="stat-item">
        <h4>Time Left</h4>
        <p><span id="timeLeft">30</span>s</p>
      </div>
      <div class="stat-item">
        <h4>Score</h4>
        <p id="score">0</p>
      </div>
      <div class="stat-item">
        <h4>Streak</h4>
        <p id="streak">0</p>
      </div>
      <div class="stat-item">
        <h4>High Score</h4>
        <p id="highScore">0</p>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div class="modal" id="helpModal">
    <div class="modal-content">
      <button class="close-btn" onclick="toggleHelp()">√ó</button>
      <div class="help-section">
        <h2>How to Play Color Match</h2>
        
        <h3>Basic Rules</h3>
        <p>Your goal is to click the button that matches the COLOR of the text, not the word itself. For example, if the word "RED" is written in blue color, you should click the BLUE button.</p>
        
        <h3>Difficulty Levels</h3>
        <ul>
          <li><strong>Beginner:</strong> 40 seconds, normal text</li>
          <li><strong>Normal:</strong> 30 seconds, normal text</li>
          <li><strong>Expert:</strong> 25 seconds, rotating text</li>
        </ul>

        <h3>Power-ups</h3>
        <ul>
          <li><strong>‚è∞ Time Boost:</strong> Adds 5 seconds to your remaining time</li>
          <li><strong>2Ô∏è‚É£ Score Multiplier:</strong> Doubles your points for 5 seconds</li>
        </ul>

        <h3>Scoring</h3>
        <ul>
          <li>Correct match: +1 point (or +2 with multiplier)</li>
          <li>Wrong match: -1 point</li>
          <li>Maintain streaks for higher scores!</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Achievements Modal -->
  <div class="modal" id="achievementsModal">
    <div class="modal-content">
      <button class="close-btn" onclick="toggleAchievements()">√ó</button>
      <h2>Achievements</h2>
      <div id="achievementsList"></div>
    </div>
  </div>

  <!-- Game Over Modal -->
  <div class="modal" id="gameOver">
    <div class="modal-content game-over-content">
      <h2 class="game-over-title">üéÆ Game Over! üéÆ</h2>
      <p class="game-over-subtitle">Great effort! Here's how you did:</p>
      <div class="game-stats">
        <div class="stat-item">
          <h4>Final Score</h4>
          <p id="finalScore">0</p>
        </div>
        <div class="stat-item">
          <h4>Best Streak</h4>
          <p id="bestStreak">0</p>
        </div>
        <div class="stat-item">
          <h4>High Score</h4>
          <p id="finalHighScore">0</p>
        </div>
      </div>
      <div id="gameOverAchievements" class="game-over-achievements"></div>
    </div>
  </div>

  <!-- Achievement Popup -->
  <div class="achievements-popup" id="achievementPopup">
    <h3>üèÜ Achievement Unlocked!</h3>
    <p id="achievementText"></p>
  </div>

  <div class="modal" id="statsModal">
    <div class="modal-content">
      <button class="close-btn" onclick="toggleStats()">√ó</button>
      <h2>All-Time Stats</h2>
      <div class="stats-container">
        <div class="stat-item">
          <h4>Best Score Ever</h4>
          <p id="allTimeHighScore">0</p>
        </div>
        <div class="stat-item">
          <h4>Best Streak Ever</h4>
          <p id="allTimeBestStreak">0</p>
        </div>
        <div class="stat-item">
          <h4>Achievements Unlocked</h4>
          <p id="achievementsCount">0/5</p>
        </div>
      </div>
      <button class="utility-btn" onclick="resetAllData()">Reset All Data</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>